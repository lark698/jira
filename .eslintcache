[{"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\index.tsx":"1","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\reportWebVitals.ts":"2","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\App.tsx":"3","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\list.tsx":"4","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\search-panel.tsx":"5","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\index.tsx":"6","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\context\\index.tsx":"7","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\context\\auth-context.tsx":"8","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\authenticated-app.tsx":"9","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\auth-provider.ts":"10","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\index.tsx":"11","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\login.tsx":"12","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\register.tsx":"13","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\index.ts":"14","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\http.ts":"15","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\components\\lib.tsx":"16","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\user.ts":"17","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\project.ts":"18","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\use-async.ts":"19","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project\\index.tsx":"20","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\kanban\\index.tsx":"21","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\epic\\index.tsx":"22"},{"size":707,"mtime":1612201678158,"results":"23","hashOfConfig":"24"},{"size":425,"mtime":499162500000,"results":"25","hashOfConfig":"24"},{"size":412,"mtime":1611939089490,"results":"26","hashOfConfig":"24"},{"size":1909,"mtime":1614089518880,"results":"27","hashOfConfig":"24"},{"size":1225,"mtime":1612505163450,"results":"28","hashOfConfig":"24"},{"size":1409,"mtime":1613582473614,"results":"29","hashOfConfig":"24"},{"size":228,"mtime":1611896850846,"results":"30","hashOfConfig":"24"},{"size":1878,"mtime":1613124341309,"results":"31","hashOfConfig":"24"},{"size":2884,"mtime":1614097921299,"results":"32","hashOfConfig":"24"},{"size":1515,"mtime":1612869153980,"results":"33","hashOfConfig":"24"},{"size":2350,"mtime":1613582582095,"results":"34","hashOfConfig":"24"},{"size":1271,"mtime":1612928303845,"results":"35","hashOfConfig":"24"},{"size":1620,"mtime":1612928360717,"results":"36","hashOfConfig":"24"},{"size":1717,"mtime":1614097738932,"results":"37","hashOfConfig":"24"},{"size":1642,"mtime":1612191093351,"results":"38","hashOfConfig":"24"},{"size":1217,"mtime":1613130209006,"results":"39","hashOfConfig":"24"},{"size":557,"mtime":1612700744131,"results":"40","hashOfConfig":"24"},{"size":564,"mtime":1612700744138,"results":"41","hashOfConfig":"24"},{"size":1653,"mtime":1612928254745,"results":"42","hashOfConfig":"24"},{"size":798,"mtime":1614097363661,"results":"43","hashOfConfig":"24"},{"size":96,"mtime":1614091082743,"results":"44","hashOfConfig":"24"},{"size":92,"mtime":1614091082753,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"k461r0",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"48"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\index.tsx",[],["96","97"],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\reportWebVitals.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\App.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\list.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\search-panel.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project-list\\index.tsx",["98"],"import React, { useState } from \"react\";\r\nimport { SearchPanel } from \"screens/project-list/search-panel\";\r\nimport { List } from \"screens/project-list/list\";\r\nimport {useDebounce, useDocumentTitle} from \"../../utils\";\r\nimport styled from \"@emotion/styled\";\r\nimport { Typography } from \"antd\";\r\nimport { useProjects } from \"utils/project\";\r\nimport { useUsers } from \"utils/user\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\n// 使用 JS 的同学，大部分的错误都是在 runtime(运行时) 的时候发现的\r\n// 我们希望，在静态代码中，就能找到其中的一些错误 -> 强类型\r\nexport const ProjectListScreen = () => {\r\n    const [param, setParam] = useState({\r\n        name: \"\",\r\n        personId: \"\",\r\n    });\r\n    const debouncedParam = useDebounce(param, 200);\r\n    const { isLoading, error, data: list } = useProjects(debouncedParam);\r\n    const { data: users } = useUsers();\r\n\r\n    useDocumentTitle('项目列表', false)\r\n    return (\r\n        <Container>\r\n            <h1>项目列表</h1>\r\n            <SearchPanel users={users || []} param={param} setParam={setParam} />\r\n            {error ? (\r\n                <Typography.Text type={\"danger\"}>{error.message}</Typography.Text>\r\n            ) : null}\r\n            <List loading={isLoading} users={users || []} dataSource={list || []} />\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n  padding: 3.2rem;\r\n`;","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\context\\index.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\context\\auth-context.tsx",["99","100","101","102"],"import React, { ProviderProps, ReactNode, useState } from \"react\";\r\nimport * as auth from \"../auth-provider\";\r\nimport { User } from \"screens/project-list/search-panel\";\r\nimport {useMount} from \"../utils\";\r\nimport {http} from \"utils/http\";\r\nimport {useAsync} from \"../utils/use-async\";\r\nimport {FullPageErrorFallback, FullPageLoading} from \"../components/lib\";\r\n\r\ninterface AuthForm {\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\nconst AuthContext = React.createContext<\r\n    | {\r\n    user: User | null;\r\n    register: (form: AuthForm) => Promise<void>;\r\n    login: (form: AuthForm) => Promise<void>;\r\n    logout: () => Promise<void>;\r\n}\r\n    | undefined\r\n    >(undefined);\r\nAuthContext.displayName = \"AuthContext\";\r\n\r\nconst bootstrapUser = async () => {\r\n    let user = null\r\n    const token = auth.getToken()\r\n    if (token) {\r\n        const data = await http('me', {token})\r\n        user = data.user\r\n    }\r\n    return user\r\n}\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n    const {data: user, error, isLoading, isIdle, isError, run, setData: setUser} = useAsync<User | null>();\r\n\r\n    // point free\r\n    const login = (form: AuthForm) => auth.login(form).then(setUser);\r\n    const register = (form: AuthForm) => auth.register(form).then(setUser);\r\n    const logout = () => auth.logout().then(() => setUser(null));\r\n    useMount(() => {\r\n        run(bootstrapUser())\r\n    })\r\n    if (isIdle || isLoading) {\r\n        return <p>loading...</p>\r\n    }\r\n    if (error) {\r\n        return <FullPageErrorFallback error={error}/>\r\n    }\r\n\r\n    return <AuthContext.Provider children={children} value={{ user, login, register, logout }}/>\r\n}\r\n\r\nexport const useAuth = () => {\r\n    const context = React.useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error(\"useAuth必须在AuthProvider中使用\");\r\n    }\r\n    return context;\r\n};","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\authenticated-app.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\auth-provider.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\index.tsx",["103"],"import React, {useState} from \"react\"\r\nimport {RegisterScreen} from \"unauthenticated-app/register\";\r\nimport {LoginScreen} from \"unauthenticated-app/login\";\r\nimport {Card, Divider, Button, Typography} from 'antd'\r\nimport styled from '@emotion/styled'\r\nimport logo from 'assets/logo.svg'\r\nimport left from 'assets/left.svg'\r\nimport right from 'assets/right.svg'\r\nimport {Helmet} from 'react-helmet'\r\nimport {useDocumentTitle} from \"../utils\";\r\n\r\nexport const UnauthenticatedApp = () => {\r\n    const [isRegister, setIsRegister] = useState(false)\r\n    const [error, setError] = useState<Error | null>(null)\r\n    useDocumentTitle('请登录注册以继续')\r\n    return <div style={{display:'flex', justifyContent:'center'}}>\r\n        <Container>\r\n            <Header/>\r\n            <Background/>\r\n        <ShadowCard>\r\n            <Title>\r\n                {isRegister ? '请注册':'请登录'}\r\n                {error ? <Typography.Text type={\"danger\"}>{error.message}</Typography.Text> : null}\r\n            </Title>\r\n        {\r\n            isRegister ? <RegisterScreen onError={setError}/> : <LoginScreen onError={setError}/>\r\n        }\r\n        <Divider/>\r\n            <Button type = {\"link\"} onClick={() => setIsRegister(!isRegister)}>切换到{isRegister ? '登录' : '没有帐户，这里注册'}</Button>\r\n        </ShadowCard>\r\n        </Container>\r\n    </div>\r\n}\r\n\r\nexport const LongButton = styled(Button)`\r\n  width: 100%;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin-bottom: 2.4rem;\r\n  color: rgb(94, 108, 132);\r\n`;\r\n\r\nconst Background = styled.div `\r\n    position:absolute;;\r\n  width:100%;\r\n  height:100%;\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  background-position: left bottom, right, bottom;\r\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem), calc(((100vw - 40rem) / 2) - 3.2rem), cover;\r\n  background-image: url(${left}), url(${right});\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex; \r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  `\r\n\r\nconst ShadowCard = styled(Card)`\r\n  width:40rem;\r\n  min-height:56rem;\r\n  padding:3.2rem 4rem;\r\n  box-sizing:border-box;\r\n  box-shadow: raba(0,0,0,0.1) 0 0 10px;\r\n  text-align: center;\r\n`\r\n\r\nconst Header = styled.header `\r\n  background: url(${logo}) no-repeat center;\r\n  padding: 5rem 0;\r\n  background-size: 8rem;\r\n  width: 100%;\r\n`","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\login.tsx",["104","105","106","107"],"import React, {FormEvent} from \"react\";\r\nimport {useAuth} from \"context/auth-context\";\r\nimport {Form, Button, Input} from 'antd'\r\nimport {LongButton} from \"./index\";\r\nimport {useAsync} from \"../utils/use-async\";\r\nimport {throws} from \"assert\";\r\n\r\nexport const LoginScreen = ({onError}:{onError : (error :Error) => void}) => {\r\n    const {login, user} = useAuth();\r\n    const {run, isLoading} = useAsync(undefined, {throwOnError: true});\r\n    const handleSubmit = async (values: {username: string, password:string}) => {\r\n        try {\r\n            await run(login(values))\r\n        } catch (e) {\r\n            onError(e)\r\n        }\r\n    }\r\n    return (<Form onFinish={handleSubmit}>\r\n            <Form.Item name={'username'} rules={[{required:true, message:'请输入用户名'}]}>\r\n                <Input placeholder=\"username\" type=\"text\" id={\"username\"}/>\r\n            </Form.Item>\r\n            <Form.Item name= {'password'} rules={[{required:true, message:'请输入密码'}]}>\r\n                <Input placeholder=\"password\" type=\"password\" id={\"password\"}/>\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <LongButton loading={isLoading} htmlType={'submit'} type={\"primary\"}>登录</LongButton>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\unauthenticated-app\\register.tsx",["108","109","110","111"],"import React, {FormEvent} from \"react\";\r\nimport {useAuth} from \"context/auth-context\";\r\nimport {Form, Button, Input} from 'antd'\r\nimport {LongButton} from \"./index\";\r\nimport {useAsync} from \"../utils/use-async\";\r\n\r\nexport const RegisterScreen = ({onError}:{onError : (error :Error) => void}) => {\r\n    const {register, user} = useAuth();\r\n    const {run, isLoading} = useAsync(undefined, {throwOnError: true});\r\n    const handleSubmit = async ({cpassword, ...values}: {username: string, password:string, cpassword: string}) => {\r\n        if (cpassword !== values.password) {\r\n            onError(new Error('请确认两次输入的密码相同'))\r\n            return\r\n        }\r\n        try {\r\n            await run(register(values));\r\n        } catch (e) {\r\n            onError(e)\r\n        }\r\n    }\r\n    return (<Form onFinish={handleSubmit}>\r\n            <Form.Item name={'username'} rules={[{required:true, message:'请输入用户名'}]}>\r\n                <Input placeholder=\"username\" type=\"text\" id={\"username\"}/>\r\n            </Form.Item>\r\n            <Form.Item name= {'password'} rules={[{required:true, message:'请输入密码'}]}>\r\n                <Input placeholder=\"password\" type=\"password\" id={\"password\"}/>\r\n            </Form.Item>\r\n            <Form.Item name= {'cpassword'} rules={[{required:true, message:'请确认密码'}]}>\r\n                <Input placeholder=\"cpassword\" type=\"password\" id={\"cpassword\"}/>\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <LongButton htmlType={'submit'} type={\"primary\"}>注册</LongButton>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}","C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\index.ts",["112"],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\http.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\components\\lib.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\user.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\project.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\utils\\use-async.ts",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\project\\index.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\kanban\\index.tsx",[],"C:\\Users\\Larkl\\WebstormProjects\\jira\\src\\screens\\epic\\index.tsx",[],{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","severity":1,"message":"118","line":9,"column":9,"nodeType":"119","messageId":"120","endLine":9,"endColumn":15},{"ruleId":"117","severity":1,"message":"121","line":1,"column":17,"nodeType":"119","messageId":"120","endLine":1,"endColumn":30},{"ruleId":"117","severity":1,"message":"122","line":1,"column":43,"nodeType":"119","messageId":"120","endLine":1,"endColumn":51},{"ruleId":"117","severity":1,"message":"123","line":7,"column":32,"nodeType":"119","messageId":"120","endLine":7,"endColumn":47},{"ruleId":"117","severity":1,"message":"124","line":36,"column":50,"nodeType":"119","messageId":"120","endLine":36,"endColumn":57},{"ruleId":"117","severity":1,"message":"118","line":9,"column":9,"nodeType":"119","messageId":"120","endLine":9,"endColumn":15},{"ruleId":"117","severity":1,"message":"125","line":1,"column":16,"nodeType":"119","messageId":"120","endLine":1,"endColumn":25},{"ruleId":"117","severity":1,"message":"126","line":3,"column":15,"nodeType":"119","messageId":"120","endLine":3,"endColumn":21},{"ruleId":"117","severity":1,"message":"127","line":6,"column":9,"nodeType":"119","messageId":"120","endLine":6,"endColumn":15},{"ruleId":"117","severity":1,"message":"128","line":9,"column":19,"nodeType":"119","messageId":"120","endLine":9,"endColumn":23},{"ruleId":"117","severity":1,"message":"125","line":1,"column":16,"nodeType":"119","messageId":"120","endLine":1,"endColumn":25},{"ruleId":"117","severity":1,"message":"126","line":3,"column":15,"nodeType":"119","messageId":"120","endLine":3,"endColumn":21},{"ruleId":"117","severity":1,"message":"128","line":8,"column":22,"nodeType":"119","messageId":"120","endLine":8,"endColumn":26},{"ruleId":"117","severity":1,"message":"129","line":9,"column":17,"nodeType":"119","messageId":"120","endLine":9,"endColumn":26},{"ruleId":"130","severity":1,"message":"131","line":22,"column":8,"nodeType":"132","endLine":22,"endColumn":10,"suggestions":"133"},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"@typescript-eslint/no-unused-vars","'Helmet' is defined but never used.","Identifier","unusedVar","'ProviderProps' is defined but never used.","'useState' is defined but never used.","'FullPageLoading' is defined but never used.","'isError' is assigned a value but never used.","'FormEvent' is defined but never used.","'Button' is defined but never used.","'throws' is defined but never used.","'user' is assigned a value but never used.","'isLoading' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'callback'. Either include it or remove the dependency array. If 'callback' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["136"],"no-global-assign","no-unsafe-negation",{"desc":"137","fix":"138"},"Update the dependencies array to be: [callback]",{"range":"139","text":"140"},[701,703],"[callback]"]